// ==UserScript==
// @name         Unshared projects viewer
// @namespace    https://www.juegostrower.tk
// @version      1.0
// @description  Adds an editor to the unshared projects.
// @author       JuegOStrower
// @include      https://scratch.mit.edu/projects/*/
// @exclude      https://scratch.mit.edu/projects/*/*/
// @grant        none
// ==/UserScript==

if (window.location.pathname.replace(/\D/g,"").length > 2 && window.location.pathname.replace(/\D/g,"").length < 11 && !!document.getElementById("page-404")){
    document.getElementById('content').innerHTML = '<div id="jviewBar" style="padding: 5px 10px;background-color: #f9dcb5;color: #a56100;font-weight: 700;margin-top: -8px;margin-bottom: 8px!important;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 3px;border: 1px solid #fcc57b;text-shadow: 0 1px 0 rgba(255,255,255,0.5);line-height: 25px;"><span id="jviewTxt">This project is not shared -- but with the JuegOStrower hack, you can see it. Click view to see this unshred project!</span><div style="float: right;"><input value="Learn More" type="submit" class="button small grey" onclick="location.href=' + "'https://www.juegostrower.tk/unsharedviewer'" + ';" style="line-height: 0;padding: 8px 10px;"><input style="line-height: 0;padding: 8px 10px;" type="submit" id="jview" class="button small grey" value="View"></div></div>' + document.getElementById('content').innerHTML;
    document.getElementById('jview').addEventListener("click", function(){
        document.getElementById('jview').value="Reload";
        document.getElementById('jviewBar').style.backgroundColor = "#dff0d8";
        document.getElementById('jviewBar').style.color = "#468847";
        document.getElementById('jviewBar').style.borderColor = "#d6e9c6";
        document.getElementById('jviewTxt').innerText="Yeah! You can see this unshared project now! However, you can't see the title or the autor";
        document.getElementById("page-404").innerHTML = '<div style="float: left;height:450px;margin: 8px;" id="unshproj"><object style="width: 482px;margin: auto;height: 425px;display:block" data="//cdn.scratch.mit.edu/scratchr2/static/__f3d308221474a0b7409d8752452b362b__/Scratch.swf" type="application/x-shockwave-flash"><param name="allowscriptaccess" value="always"><param name="allowfullscreen" value="true"><param name="wmode" value="direct"><param name="menu" value="false"><param name="flashvars" value="autostart=false&amp;urlOverrides=%7B%22sitePrefix%22%3A%22https%3A%2F%2Fscratch.mit.edu%2F%22%2C%22siteCdnPrefix%22%3A%22http%3A%2F%2Fcdn.scratch.mit.edu%2F%22%2C%22assetPrefix%22%3A%22http%3A%2F%2Fassets.scratch.mit.edu%2F%22%2C%22assetCdnPrefix%22%3A%22http%3A%2F%2Fcdn.assets.scratch.mit.edu%2F%22%2C%22projectPrefix%22%3A%22http%3A%2F%2Fprojects.scratch.mit.edu%2F%22%2C%22projectCdnPrefix%22%3A%22http%3A%2F%2Fcdn.projects.scratch.mit.edu%2F%22%2C%22internalAPI%22%3A%22internalapi%2F%22%2C%22siteAPI%22%3A%22site-api%2F%22%2C%22staticFiles%22%3A%22scratchr2%2Fstatic%2F%22%7D&amp;inIE=false&amp;project_id=JPROJECTID&amp;project_title=Unshared%20Project%20Viewer%By%JuegOStrower&amp;project_notes=&amp;project_credits=&amp;project_creator=JuegOStrower&amp;project_modifiedDate=2017-10-26%2002%3A05%3A20&amp;project_isPublished=false&amp;project_comments_allowed=true"></object></div><div style="height:450px;"><h1>This is an unshared project</h1>You can see this project because you have added the <a href="/users/JuegOStrower">@JuegOStrower</a> unshared projects viewer. You can get more info about it <a href="https://www.juegostrower.tk/unsharedviewer/">here</a>.<br>Also, this tool includes links to see the code or render the project with another site. So, these are the free links:<ul><li><a title="The Scratch 3 Beta" target="_blank" href="https://llk.github.io/scratch-gui/#JPROJECTID">Scratch 3 GUI:</a> Open this project in the Scratch 3 Beta.</li><li><a target="_blank" title="The Scratch 3 Beta with experimental tools" href="https://llk.github.io/scratch-gui/develop/#JPROJECTID">Scratch 3 GUI Develop:</a> Open this project in the Scratch 3 Beta with experimental tools.</li><li><a target="_blank" title="The Scratch 3 Beta with debugging tools" href="https://llk.github.io/scratch-vm/#JPROJECTID">Scratch 3 VM:</a> Open this project in the Scratch 3 Beta with debugging tools.</li><li><a target="_blank" title="Run this project in another player" href="https://phosphorus.github.io/#JPROJECTID">Phosphorus: </a> Run this project in another player</li><li><a title="Download this project for seeing its code" target="_blank" href="https://www.juegostrower.tk/downloader/#JPROJECTID">Download: </a> Download this project for seeing its code</li><li><a title="Play unshared projects with the default viewer" target="_blank" href="https://www.juegostrower.tk/unsharedviewer/#JPROJECTID">Remote Player:</a> Play this project in my website</li></ul><h2>Also, check out this:</h2><ul><li><a title="It has the best tools for Scratch!" target="_blank" href="https://www.juegostrower.tk">My website:</a> It has the best tools for Scratch 2&amp;3</li><li><a target="_blank" title="My Scracth Profile" href="https://scratch.mit.edu/users/JuegOStrower">My profile:</a> My Scratch Profile</li></ul><h3>And if you follow me....</h3>I WILL ADD THE SEE INSIDE BUTTON!!!! <a title="Help me to make better projects" href="#" onclick="$.ajax({type: &quot;PUT&quot;,url: &quot;https://scratch.mit.edu/site-api/users/followers/JuegOStrower/add/&quot;,data: {usernames: Scratch.INIT_DATA.LOGGED_IN_USER.model.username}})">FOLLOW ME</a></div>'.replace(/JPROJECTID/g,window.location.pathname.replace(/\D/g,""));
    });
}